/* ===================================================================
   PINNACLEX DESIGN SYSTEM - v1.0
   Aggregated Stylesheet
   Author: H. Hill
   =================================================================== */

@import url('tokens.css');
@import url('base.css');
@import url('utilities.css');
@import url('layout.css');

/* Light card on dark background */
html { background-color: var(--black); } /* single source of truth */
body, main, section { background: transparent; }

.card {
  background-color: rgba(255,255,255,0.05) !important;
  border: 1px solid rgba(255,255,255,0.08) !important;
  border-radius: 16px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.35);
  color: var(--fg);
  padding: var(--space-md);
}

/* Headings/links inside cards remain readable and on-brand */
.card h3, .card h4, .card h5 { color: var(--fg); margin-top: 0; }
.card a { color: var(--fg); text-decoration: none; }
.card a:hover { color: var(--accent); }

.btn-accent {
  display: inline-block;
  background: var(--accent);
  color: #111;
  border: none;
  padding: 0.75rem 1.25rem;
  border-radius: 8px;
  font-weight: 600;
  text-decoration: none;
}
.btn-accent:hover { filter: brightness(0.95); }

#services h3,
#services h3 a {
  font-size: 20px;
}

/* --- Elevation & panel hover tokens (add inside :root block if present, else keep here) --- */
:root {
  --elev-1: 0 10px 30px rgba(0,0,0,.35);
  --elev-2: 0 20px 40px rgba(0,0,0,.50);
  --panel-bg-hover: rgba(255,255,255,.06);
  --panel-border-hover: rgba(255,255,255,.16);
}

/* Ensure base elevation on cards (safe override) */
.card { box-shadow: var(--elev-1); }

/* Pro "lift & expand" animation for clickable cards */
.link-card{
  transform: translateZ(0); /* GPU hint */
  transition:
    transform .18s cubic-bezier(.2,.8,.2,1),
    box-shadow .18s ease,
    background-color .18s ease,
    border-color .18s ease;
  will-change: transform;
  cursor: pointer;
}
.link-card:hover,
.link-card:focus-within{
  transform: scale(1.02) translateY(-2px);
  box-shadow: var(--elev-2);
  background-color: var(--panel-bg-hover);
  border-color: var(--panel-border-hover);
}
.link-card:active{
  transform: scale(.995) translateY(0);
}

/* Animated title underline (reliable ::after) */
.title-link{
  position: relative;
  z-index: 2;                 /* stays above stretched-link overlay */
  display: inline-block;
  color: var(--fg);
  text-decoration: none;
  transition: color .18s ease;
}
.title-link::after{
  content: "";
  position: absolute;
  left: 0;
  bottom: -2px;
  height: 2px;
  width: 0;
  background: var(--accent);
  transition: width .18s cubic-bezier(.2,.8,.2,1);
}
/* Trigger via link hover/focus OR entire card hover/focus */
.title-link:hover,
.title-link:focus-visible{
  color: var(--accent);
}
.title-link:hover::after,
.title-link:focus-visible::after,
.link-card:hover .title-link::after,
.link-card:focus-within .title-link::after{
  width: 100%;
}

/* Keyboard accessibility */
.link-card:focus-within{ outline: 2px solid var(--accent); outline-offset: 3px; }

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  .link-card{ transition: none; transform: none; }
  .link-card:hover,
  .link-card:focus-within,
  .link-card:active{ transform: none; }
  .title-link::after{ transition: none; }
}

/* --- Service card hover expansion (layout-based) --- */

/* Ensure consistent base spacing + elevation */
.link-card{
  box-shadow: var(--elev-1);
  padding: var(--space-md);              /* expands on hover */
  transition:
    padding .22s cubic-bezier(.2,.8,.2,1),
    box-shadow .22s ease,
    background-color .22s ease,
    border-color .22s ease;
  cursor: pointer;
  overflow: hidden;                      /* keeps edges clean during growth */
  min-height: 100%;                      /* stable column height in Bootstrap rows */
  transform: none;                       /* override previous transform-based lift */
  will-change: padding;
}

/* True expansion: increases physical size (reflows neighbors) */
.link-card:hover,
.link-card:focus-within{
  padding: calc(var(--space-md) + .6rem); /* grow */
  box-shadow: var(--elev-2);
  background-color: var(--panel-bg-hover);
  border-color: var(--panel-border-hover);
  transform: none;
}

/* Press feedback */
.link-card:active{
  padding: calc(var(--space-md) + .5rem);
  transform: none;
}

/* Title underline animation (reliable) */
.title-link{
  position: relative;
  z-index: 2;                 /* above stretched-link overlay */
  display: inline-block;
  color: var(--fg);
  text-decoration: none;
  transition: color .18s ease;
}

.title-link::after{
  content: "";
  position: absolute;
  left: 0;
  bottom: -2px;
  height: 2px;
  width: 0;
  background: var(--accent);
  transition: width .18s cubic-bezier(.2,.8,.2,1);
}

/* Trigger via link hover/focus OR whole-card hover/focus */
.title-link:hover,
.title-link:focus-visible{ color: var(--accent); }

.title-link:hover::after,
.title-link:focus-visible::after,
.link-card:hover .title-link::after,
.link-card:focus-within .title-link::after{
  width: 100%;
}

/* Keyboard focus ring */
.link-card:focus-within{ outline: 2px solid var(--accent); outline-offset: 3px; }

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  .link-card{ transition: none; }
  .title-link::after{ transition: none; }
}


